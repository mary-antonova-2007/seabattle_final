### Схемы алгоритмов ключевых модулей системы

#### Разграничение прав доступа (пользователь, админ)

- **Пользователь** может регистрироваться, входить в систему, играть в игру "Морской бой" также делать покупки и оформлять заказы включая выигранные призы.
- **Администратор** имеет доступ:
  1. Создание полей для викторины и прикрепление пользователей к полям.
  2. Создавать корабли и прикреплять к ним призы (товары).
  3. Управление игорвыми полями викторины, может размещать корабли с подарками на поля викторины.

#### Механика создания игрового поля

1. Игровое поле создается динамически на основе предварительно заданных параметров (размер и имя игрового поля).
2. Используется алгоритм для размещения кораблей, который учитывает правило, если на игровом поле был совершон  хотя-бы один выстрел пользователем, то нельзя менять расположение короблей, добавлять корабли на поле и удалять их.

#### Механика расстановки кораблей и закрепления за ними призов

1. Корабли расставляются на игровом поле администратором.
2. За каждым кораблем закрепляется приз из списка товаров. При уничтожении корабля игрок получает товар и он автоматически добавляется в корзину с ценой равной 0 руб.

#### Механика осуществления выстрела пользователем (с проверкой возможности выстрела)

1. Система проверяет есть ли выстрелы у авторизованного пользователя на этом игровом поле.
2. Пользователь кликает по пустой клетке на игровом поле.
3. Система проверяет, был ли уже совершен выстрел по этой клетке.
4. Если выстрел возможен, система определяет, попал ли пользователь по кораблю или нет, и возвращает соответствующий результат.


#### Метод установки и/или запуска программного продукта

1. Клонировать репозиторий с GitHub.
2. Установить зависимости, используя `pip install -r requirements.txt`.
3. Выполнить миграции базы данных с помощью `python manage.py migrate`.
4. Запустить сервер разработки командой `python manage.py runserver`.

#### Описание структуры данных


#### 1. BattleField
- **Отношения**: Многие ко многим с `User`.
- **Поля**: Имя поля, размеры поля (ширина и высота).

#### 2. Ship
- **Отношения**: Один ко многим с `BattleField`. Каждый корабль привязан к конкретному полю битвы. Также имеет связь один ко многим с `Product`, что позволяет привязывать к кораблю конкретные товары или призы.
- **Поля**: Индексы расположения корабля на поле битвы (горизонтальный и вертикальный).

#### 3. ShootedField
- **Отношения**: Один ко многим с `User` и `BattleField`. Указывает на то, какие поля были обстреляны конкретным пользователем на конкретном поле битвы.
- **Поля**: Координаты выстрела (горизонтальный и вертикальный индексы).

#### 4. ShotCountForBattlefield
- **Отношения**: Один ко многим с `User` и `BattleField`. Отслеживает количество выстрелов, сделанных пользователем на каждом поле битвы.
- **Поля**: Количество выстрелов.

#### 5. Product (из `store/models.py`)
- **Поля**: Название, описание, цена, изображение. Описывает товары, которые могут быть привязаны к кораблям или предлагаться в качестве призов.

#### 6. Order
- **Отношения**: Один ко многим с `User`. Содержит информацию о заказе, сделанном пользователем.
- **Поля**: Телефон, адрес, дополнительная информация.

#### 7. ShopCart
- **Отношения**: Один к одному с `User`. Представляет собой корзину покупок пользователя.
  
#### 8. ShopCartItem
- **Отношения**: Один ко многим с `ShopCart`, `Product` и `Order`. Содержит информацию о конкретных товарах в корзине или заказе.
- **Поля**: Количество, статус оплаты, указание, является ли товар подарком.

#### Описание функциональных блоков программного продукта

- **Аутентификация и авторизация**: Модуль управления пользователями, включая регистрацию, вход и разграничение доступа.
- **Модуль добавление игровых полей и кораблей** Для администратора
- **Викторина "Морской бой"**: Логика осуществления выстрелов по игровому полю.
- **Модуль Магазин**: Логика оформления заказов для получения подарков и совершения покупок.
- **Интерфейс пользователя**: Фронтенд-часть проекта, включая страницы регистрации, игрового поля и результатов игр.

#### Скриншоты интерфейсов программного продукта

**Основаня страница без авторизации пользователя**
  ![Экран входа](screenshots/main_page_without_authoirzation.png)
**Экран авторизации**
  ![Экран входа](screenshots/login_page.png)
**Экран регистрации**
  ![Экран входа](screenshots/register_page.png)
**Основная страница пользователя после авторизации**
  ![Экран входа](screenshots/main_user_page_after_login.PNG)
**Корзина (оформление нового заказа)**
  ![Экран входа](screenshots/new_order_page.PNG)
**Страница просмотра заказа**
![Экран входа](screenshots/order_page.PNG)
**Страница товара**
![Экран входа](screenshots/product_page.PNG)
**Игра в Викторину**
![Экран входа](screenshots/play_quiz.PNG)
**Модальное окно после удачного выстрела**
![Экран входа](screenshots/lucky_shot.PNG)
**Основная страница после авторизации админа**
![Экран входа](screenshots/admin_main_page.PNG)
**Модальное окно для создания игрового поля**
![Экран входа](screenshots/create_battlefield_modal_window.PNG)
**Страница редактирования игрового поля**
![Экран входа](screenshots/admin_edit_battlefield.PNG)
![Экран входа](screenshots/admin_edit_battlefield (created).PNG)

